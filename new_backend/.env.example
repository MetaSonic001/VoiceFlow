# VoiceFlow Backend Services - Environment Configuration

# =============================================================================
# INFRASTRUCTURE SERVICES (Local Development)
# =============================================================================

# PostgreSQL Database
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5433
POSTGRES_DB=voiceflow_prod
POSTGRES_USER=vf_admin
POSTGRES_PASSWORD=vf_secure_2025!
DATABASE_URL="postgresql://vf_admin:vf_secure_2025!@127.0.0.1:5433/voiceflow_prod?schema=public"

# MinIO S3 Storage
MINIO_ENDPOINT=http://127.0.0.1:9000
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=documents
MINIO_REGION=us-east-1

# ChromaDB Vector Database
CHROMA_URL=http://127.0.0.1:8002
CHROMA_HOST=127.0.0.1
CHROMA_PORT=8002

# Redis Cache
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# SERVICE URLS
# =============================================================================

# FastAPI Ingestion Service
INGESTION_SERVICE_URL=http://localhost:8001
FASTAPI_URL=http://127.0.0.1:8001

# Express Backend (for cross-service communication)
EXPRESS_BACKEND_URL=http://localhost:3001

# Frontend URL
FRONTEND_URL=http://localhost:3000

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# Clerk Authentication
CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key_here
CLERK_SECRET_KEY=your_clerk_secret_key_here
CLERK_FRONTEND_URL=http://localhost:3000

# Internal API Keys (for service-to-service communication)
BACKEND_API_KEY=dev-backend-key-please-change
INTERNAL_API_KEY=dev-internal-key-please-change

# JWT Secret (if needed)
JWT_SECRET=your_super_secure_jwt_secret_here

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================

# AI/ML Services
GROQ_API_KEY=your_groq_api_key_here
OPENAI_API_KEY=your_openai_api_key_here

# Voice Services
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+18283838255

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Server Settings
PORT=3001
NODE_ENV=development

# Voice Service Configuration
ASR_ENGINE=vosk
TTS_ENGINE=coqui
VOSK_MODEL_PATH=./models/vosk-model

# Ingestion Settings
EMBEDDING_MODEL=all-MiniLM-L6-v2
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
STORE_RAW_HTML=false
PII_PROTECTION=false

# Security Settings
BCRYPT_ROUNDS=12

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Logging
LOG_LEVEL=info

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8001

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,txt,doc,docx

# Logging
LOG_LEVEL=info

# PII Protection
ENABLE_PII_PROTECTION=true
PII_DETECTION_LEVEL=medium

# Voice Services
VOSK_MODEL_PATH=./models/vosk-model
COQUI_TTS_MODEL=tts_models/en/ljspeech/tacotron2-DDC_ph
WHISPER_MODEL=base

# Embedding Configuration
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# Legacy configurations (for backward compatibility)
INTERNAL_API_KEY=dev-internal-key-please-change
FASTAPI_URL=http://localhost:8001
CHROMA_PATH=/chroma/chroma
STORE_RAW_HTML=false
# The ingestion pipeline delegates metadata storage to the backend API's
# Postgres database. You can either set the backend connection URL directly
# or keep these values for compatibility. Prefer setting BACKEND_DATABASE_URL.
BACKEND_DATABASE_URL=postgresql+asyncpg://doc_user:doc_password@localhost:5433/documents_db

# (deprecated) Direct Postgres settings - only used if BACKEND_DATABASE_URL is not set
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_DB=documents_db
POSTGRES_USER=doc_user
POSTGRES_PASSWORD=doc_password

# Optional: OpenAI for advanced features
OPENAI_API_KEY=your_openai_api_key_optional

# Server Configuration
HOST=0.0.0.0
PORT=8002
DEBUG=False

# ChromaDB Configuration
CHROMA_PERSIST_DIR=./chroma_db

# IMPORTANT: This system uses per-tenant + per-agent Chroma collections.
# Every ingestion call that will create embeddings MUST include `tenant_id`
# and `agent_id` inside the document metadata passed to the ingestion API or
# to the VectorStore.store_embeddings(...) call. Example metadata:
#
# metadata = {
#   'tenant_id': 'tenant-uuid-or-name',
#   'agent_id': 'agent-uuid-or-name',
#   'original_filename': 'invoice.pdf',
#   'category': 'invoice'
# }